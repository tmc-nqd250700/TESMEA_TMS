<Window x:Class="TESMEA_TMS.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TESMEA_TMS.Views"
        xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:lex="http://wpflocalizeextension.codeplex.com"
        lex:LocalizeDictionary.DesignCulture="vi"
        lex:ResxLocalizationProvider.DefaultAssembly="TESMEA_TMS"
        lex:ResxLocalizationProvider.DefaultDictionary="Strings"
        mc:Ignorable="d"
        Height="768"
        Width="1024"
        Background="White"
        WindowStartupLocation="CenterScreen"
        WindowStyle="ToolWindow"
        ResizeMode="NoResize"
        Icon="/Assets/Images/tcm_logo.PNG"
        Title="Hệ thống đo kiểm tự động đặc tính quạt công nghiệp"
        DataContext="{Binding LoginViewModel, Source={StaticResource Locator}}">

    <md:DialogHost CloseOnClickAway="True" x:Name="LoginDialogHost" Identifier="LoginDialogHost">

        
        <Grid>
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FFCCE5FF" Offset="0"/>
                    <GradientStop Color="#FFE6F2FF" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <ComboBox
                Grid.Row="0"
                Grid.Column="2"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="0 20 20 0"
                SelectedValue="{Binding SelectedLanguage, Mode=TwoWay}"
                SelectedValuePath="Tag"
                Width="160"
                SelectionChanged="ComboBox_SelectionChanged"
                Style="{DynamicResource MaterialDesignOutlinedComboBox}">
                <ComboBoxItem Tag="vi">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Assets/Images/vn.png" Width="24" Height="24" Margin="0,0,8,0"/>
                        <TextBlock Text="Tiếng Việt (VI)" VerticalAlignment="Center"/>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="en">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Assets/Images/eng.png" Width="24" Height="24" Margin="0,0,8,0"/>
                        <TextBlock Text="English (EN)" VerticalAlignment="Center"/>
                    </StackPanel>
                </ComboBoxItem>
            </ComboBox>

            <md:Card Grid.Row="1" 
                     Grid.Column="1"
                     Width="500"           
                     MaxWidth="500"
                     VerticalAlignment="Center"
                     Padding="20 40"
                     Margin="0 40"
                     md:ShadowAssist.ShadowDepth="Depth4"
                     Background="White">

                <StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0 0 0 30">
                        <TextBlock Text="{lex:Loc Common_AppName}" 
                                   FontSize="15" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource PrimaryHueMidBrush}"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Margin="20 0">
                        
                    

                    <TextBlock Text="{lex:Loc lbl_Please_login}" 
                               FontSize="13" 
                               HorizontalAlignment="Center" 
                               Margin="0 0 0 20"
                               Foreground="{DynamicResource MaterialDesignBody}"/>

                    <TextBox Margin="0 0 0 20"
                             Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}"
                             FontSize="16"
                             md:HintAssist.Hint="{lex:Loc txt_UserName}"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"/>

                    <PasswordBox PasswordChanged="PasswordBox_PasswordChanged"
                                 KeyDown="PasswordBox_KeyDown"
                                 FontSize="16"
                                 Margin="0 0 0 10"
                                 md:HintAssist.Hint="{lex:Loc txt_Password}"
                                 Style="{StaticResource MaterialDesignOutlinedPasswordBox}"/>

                    <TextBlock Text="{Binding ErrorMessage}"
                               Foreground="#D7596D"
                               FontSize="12"
                               FontWeight="Medium"
                               Margin="0,0,0,10"
                               TextWrapping="Wrap"/>

                    <CheckBox Content="{lex:Loc ckb_RememberMe}"
                              IsChecked="{Binding IsRememberMe, Mode=TwoWay}"
                              FontFamily="Montserrat"
                              HorizontalAlignment="Left"
                              Margin="0 0 0 30"/>

                    <Button Command="{Binding LoginCommand}"
                            Height="50"
                            md:ShadowAssist.ShadowDepth="Depth2"
                            md:ButtonAssist.CornerRadius="5"
                            FontSize="18"
                            Content="{lex:Loc btn_Login}"
                            IsDefault="True"
                            Margin="0 0 0 10"/>

                    </StackPanel>
                </StackPanel>

            </md:Card>

            <TextBlock Grid.Row="2"
                       Grid.Column="2"
                       Text="Version 1.0 | TOMECO © 2025"
                       HorizontalAlignment="Right"
                       VerticalAlignment="Bottom"
                       Margin="20"
                       Foreground="{DynamicResource MaterialDesignBody}"/>

        </Grid>
    </md:DialogHost>
</Window>